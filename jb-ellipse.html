<link rel="import" href="/components/polymer/polymer.html" />
<link rel="import" href="/components/jb-3js/jb-3js-helper-color.html" />
<link rel="import" href="/components/jb-3js/jb-3js-helper-position.html" />

<dom-module id="jb-ellipse">
    <template>
        <content></content>
    </template>
</dom-module>

<script>
    Polymer({
        is: 'jb-ellipse',
        behaviors: [PositionBehavior, ColorBehavior],
        properties: {
        	name: {
        		type: String,
        		value: 'Ellipse'
        	},
        	semiMajorAxis: {
        		type: Number,
        		value: 1
        	},
			semiMinorAxis: {
				type: Number,
				value: 1
			}
        },
        created: function() {
       		var curve = new THREE.EllipseCurve(
       			0, 0,             // ax, aY
//        			this.semiMajorAxis, this.semiMinorAxis, // xRadius, yRadius
       			10, 10, // xRadius, yRadius
       			0,  2 * Math.PI,  // aStartAngle, aEndAngle
       			false,            // aClockwise
       			0                 // aRotation
       		);
       		console.log(curve);

       		var path = new THREE.Path(curve.getPoints(50));
       		var geometry = path.createPointsGeometry(50);
       		var material = new THREE.LineBasicMaterial(this.color);

       		// Create the final Object3d to add to the scene
       		this.mesh = new THREE.Line( geometry, material );
        },
        ready: function() {
	        this.mesh.name = this.name;
        },
        attached: function() {
            this.fire('add-to-scene', this.mesh);
        }
        
    });
</script>
